<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Wine Quality - CSV Input</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <header>
      <h1>Wine Quality Testing (CSV Input)</h1>
      <nav>
        <a href="/" class="btn">Back to Home</a>
      </nav>
    </header>
  
    <main class="csv-container container">
      <h2>Upload Your CSV File</h2>
      <form action="/upload_csv" method="POST" enctype="multipart/form-data">
        <label for="csvFile">Select CSV:</label>
        <input type="file" name="csvFile" id="csvFile" accept=".csv" required />
        <button type="submit" class="btn">Submit CSV</button>
      </form>

      <br>

      <div id="outputCSV">
        <h2>Result</h2>

        <!-- ‚úÖ Display Predictions if Available -->
        {% if predictions %}
            {% if predictions.status == 'error' %}
                <p style="color:red;">‚ö†Ô∏è Error: {{ predictions.details }}</p>
            {% elif 'predictions_preview' in predictions %}
                <h3>Predicted Wine Quality:</h3>
                <ul>
                    {% for pred in predictions.predictions_preview %}
                        <li>Quality Score: {{ pred.predicted_quality }}</li>
                    {% endfor %}
                </ul>
                <p style="color:green;">üìÇ Output saved at: {{ predictions.output_path }}</p>
            {% else %}
                <p style="color:orange;">‚ö†Ô∏è No predictions found in the response.</p>
            {% endif %}
        {% else %}
            <p>No predictions available yet. Please upload a CSV file and submit.</p>
        {% endif %}
      </div>
    </main>
  
    <footer>
      <p>&copy; 2025 My Wine Quality App</p>
    </footer>
</body>
</html>