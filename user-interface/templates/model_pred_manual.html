<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Wine Quality - Manual Input</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <header>
      <h1>Wine Quality Testing (Manual Input)</h1>
      <nav>
        <a href="/" class="btn">Back to Home</a>
      </nav>
    </header>
  
    <main class="manual-container container">
      <h2>Enter Wine Features</h2>
      <form action="/predict_manual" method="POST">

        <!-- Fixed Acidity -->
        <label for="fixed_acidity">Fixed Acidity</label>
        <input type="number" step="0.1" id="fixed_acidity" name="fixed_acidity" placeholder="7.4" required />

        <!-- Volatile Acidity -->
        <label for="volatile_acidity">Volatile Acidity</label>
        <input type="number" step="0.01" id="volatile_acidity" name="volatile_acidity" placeholder="0.7" required />

        <!-- Citric Acid -->
        <label for="citric_acid">Citric Acid</label>
        <input type="number" step="0.01" id="citric_acid" name="citric_acid" placeholder="0.0" required />

        <!-- Residual Sugar -->
        <label for="residual_sugar">Residual Sugar</label>
        <input type="number" step="0.1" id="residual_sugar" name="residual_sugar" placeholder="1.9" required />

        <!-- Chlorides -->
        <label for="chlorides">Chlorides</label>
        <input type="number" step="0.001" id="chlorides" name="chlorides" placeholder="0.076" required />

        <!-- Free Sulfur Dioxide -->
        <label for="free_sulfur_dioxide">Free Sulfur Dioxide</label>
        <input type="number" step="1" id="free_sulfur_dioxide" name="free_sulfur_dioxide" placeholder="11" required />

        <!-- Total Sulfur Dioxide -->
        <label for="total_sulfur_dioxide">Total Sulfur Dioxide</label>
        <input type="number" step="1" id="total_sulfur_dioxide" name="total_sulfur_dioxide" placeholder="34" required />

        <!-- Density -->
        <label for="density">Density</label>
        <input type="number" step="0.0001" id="density" name="density" placeholder="0.9978" required />

        <!-- pH -->
        <label for="pH">pH</label>
        <input type="number" step="0.01" id="pH" name="pH" placeholder="3.51" required />

        <!-- Sulphates -->
        <label for="sulphates">Sulphates</label>
        <input type="number" step="0.01" id="sulphates" name="sulphates" placeholder="0.56" required />

        <!-- Alcohol -->
        <label for="alcohol">Alcohol (%)</label>
        <input type="number" step="0.1" id="alcohol" name="alcohol" placeholder="9.4" required />

        <!-- Color (red/white) -->
        <label>Wine Color</label>
        <div>
            <label>
              <input type="radio" name="color" value="1" checked /> Red
            </label>
            <label>
              <input type="radio" name="color" value="0" /> White
            </label>
        </div>
        
        <button type="submit" class="btn">Predict Quality</button>
      </form>
      
      <br/>

      <div id="outputManual">
        <h2>Result</h2>
        {% if predictions %}
            {% if error %}
                <p style="color:red;">‚ö†Ô∏è Error: {{ error }}</p>
            {% elif predictions %}
                <h3>Predicted Wine Quality Results:</h3>

                <!-- ‚úÖ Display Detailed Table -->
                <table border="1" cellpadding="10" cellspacing="0" style="width:100%; border-collapse:collapse;">
                  <thead style="background-color:#f2f2f2;">
                    <tr>
                      <th>Sample</th>
                      <th>Fixed Acidity</th>
                      <th>Volatile Acidity</th>
                      <th>Citric Acid</th>
                      <th>Residual Sugar</th>
                      <th>Chlorides</th>
                      <th>Free SO‚ÇÇ</th>
                      <th>Total SO‚ÇÇ</th>
                      <th>Density</th>
                      <th>pH</th>
                      <th>Sulphates</th>
                      <th>Alcohol</th>
                      <th>Color</th>
                      <th>Predicted Quality</th>
                    </tr>
                  </thead>
                  <tbody>
                    {% for pred in predictions %}
                    <tr>
                      <td>{{ pred.Sample }}</td>
                      <td>{{ pred.fixed_acidity }}</td>
                      <td>{{ pred.volatile_acidity }}</td>
                      <td>{{ pred.citric_acid }}</td>
                      <td>{{ pred.residual_sugar }}</td>
                      <td>{{ pred.chlorides }}</td>
                      <td>{{ pred.free_sulfur_dioxide }}</td>
                      <td>{{ pred.total_sulfur_dioxide }}</td>
                      <td>{{ pred.density }}</td>
                      <td>{{ pred.pH }}</td>
                      <td>{{ pred.sulphates }}</td>
                      <td>{{ pred.alcohol }}</td>
                      <td>{{ pred.color }}</td>
                      <td style="font-weight:bold; color:green;">{{ pred['Predicted Quality'] }}</td>
                    </tr>
                    {% endfor %}
                  </tbody>
                </table>

                <p style="color:green;">üìÇ Output saved at: volumes/user/predictions.json</p>
            {% else %}
                <p style="color:orange;">‚ö†Ô∏è No predictions found in the response.</p>
            {% endif %}
        {% else %}
            <p>No predictions available yet. Please enter values and submit.</p>
        {% endif %}
      </div>
    </main>
  
    <footer>
      <p>&copy; 2025 My Wine Quality App</p>
    </footer>
</body>
</html>