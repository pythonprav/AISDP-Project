<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Wine Quality - Manual Input</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <header>
      <h1>Wine Quality Testing (Manual Input)</h1>
      <nav>
        <a href="/" class="btn">Back to Home</a>
      </nav>
    </header>
  
    <main class="manual-container container">
      <h2>Enter Wine Features</h2>
      <form action="/predict_manual" method="POST">
        {% for col in ["fixed_acidity", "volatile_acidity", "citric_acid", "residual_sugar",
                      "chlorides", "free_sulfur_dioxide", "total_sulfur_dioxide",
                      "density", "pH", "sulphates", "alcohol"] %}
            <label for="{{ col }}">{{ col.replace("_", " ").title() }}</label>
            <input type="number" step="0.1" id="{{ col }}" name="{{ col }}" required />
        {% endfor %}

        <!-- Color (Red/White) -->
        <label>Wine Color</label>
        <div>
            <label><input type="radio" name="color" value="1" checked /> Red</label>
            <label><input type="radio" name="color" value="0" /> White</label>
        </div>

        <button type="submit" class="btn">Predict Quality</button>
      </form>
      
      <div id="outputManual">
        <h2>Result</h2>
        {% if predictions %}
            {% if predictions.status == 'error' %}
                <p style="color:red;">‚ö†Ô∏è Error: {{ predictions.details }}</p>
            {% elif 'predictions_preview' in predictions %}
                <h3>Predicted Wine Quality Results:</h3>
                <div class="table-container">
                  <table>
                    <thead>
                      <tr>
                        <th>Fixed Acidity</th>
                        <th>Volatile Acidity</th>
                        <th>Citric Acid</th>
                        <th>Residual Sugar</th>
                        <th>Chlorides</th>
                        <th>Free SO‚ÇÇ</th>
                        <th>Total SO‚ÇÇ</th>
                        <th>Density</th>
                        <th>pH</th>
                        <th>Sulphates</th>
                        <th>Alcohol</th>
                        <th>Color</th>
                        <th class="highlight-quality">Predicted Quality</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        {% for key, value in predictions.predictions_preview[0].items() %}
                            <td>{{ value }}</td>
                        {% endfor %}
                      </tr>
                    </tbody>
                  </table>
                </div>

                <p style="color:green;">üìÇ Output saved at: {{ predictions.output_path }}</p>
            {% else %}
                <p style="color:orange;">‚ö†Ô∏è No predictions found in the response.</p>
            {% endif %}
        {% else %}
            <p>No predictions available yet. Please enter values and submit.</p>
        {% endif %}
      </div>
    </main>
  
    <footer>
      <p>&copy; 2025 My Wine Quality App</p>
    </footer>
</body>
</html>